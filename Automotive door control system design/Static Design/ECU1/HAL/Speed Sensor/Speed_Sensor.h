/***********************************************************************************************************************
 *   \date 	 : 02.02.2023          
 *   \name 	 : Ahmed Elebaby       
 *	 \version : 1.0              
 *	 \SWC     : Speed Sensor          
 *   \brief   : header file for Speed Sensor  driver
************************************************************************************************************************/
#ifndef SPEED_SENSOR_H_
#define SPEED_SENSOR_H_


/********************************************************************************************************************
 *    INCLUDES
 ********************************************************************************************************************/
 #include <stdint.h>
 

 
 
/********************************************************************************************************************
 *    LOCAL MACROS CONTANTS/FUNTIONS
 ********************************************************************************************************************/
 #define SPEED_SENSOR_MESSAGE_ID 0x102 /*Macro to define the ID of the sensor*/
/********************************************************************************************************************
 *    LOCAL DATA & DATA STRUCTURE
 ********************************************************************************************************************/
  /*
   @brief Door State structures definition
 */
 /*
 enum speed sensor
 */
 
  typedef enum
{
    CAR_MOVING  = 0, /* car is moving             */
    CAR_PARK 	= 1	 /* The car is in park mode   */

} SpeedState;

typedef struct {
	SpeedState speed_State;/* /*current speed state*/*/
    uint32_t message_id; /*variable to carry the configured Id of the sensor*/
    uint16_t speed;      /*current speed measurment*/
	
} SpeedSensorMessage;

typedef uint16_t SpeedMeasure; /*data type to indentify speed rate */

/********************************************************************************************************************
 *    GLOBAL DATA
 ********************************************************************************************************************/

/********************************************************************************************************************
 *    LOCAL FUNCTION PROTOTYPES
 ********************************************************************************************************************/
 
/********************************************************************************************************************
 *    LOCAL FUNCTION
 ********************************************************************************************************************/
 
/********************************************************************************************************************
 *    GLOBAL FUNCTION
 ********************************************************************************************************************/
 /*Initialize the speed sensor*/
void speed_sensor_init(void);

/*Control functions : Read the speed of the car and return it*/
SpeedMeasure speed_sensor_read_speed(void);
void speed_sensor_send_message(void);

#endif /*End of file Speed Sensor*/