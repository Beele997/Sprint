/***********************************************************************************************************************
 *   \date 	  : 06.02.2023          
 *   \name 	  : Ahmed Elebaby       
 *	 \version : 1.0              
 *	 \SWC     : IC driver          
 *   \brief   : Header file of IC MCAL module.
************************************************************************************************************************/
#ifndef __MCAL_IC_DRIVER_H__
#define __MCAL_IC_DRIVER_H__


/********************************************************************************************************************
 *    INCLUDES
 ********************************************************************************************************************/
 #include <stdint.h>
 

 
 
/********************************************************************************************************************
 *    LOCAL MACROS CONTANTS/FUNTIONS
 ********************************************************************************************************************/
#define IC_OS_TICK_PERIOD_MS 10

/********************************************************************************************************************
 *    LOCAL DATA & DATA STRUCTURE
 ********************************************************************************************************************/
typedef enum 
{
	
  IC_OK,
  IC_ERROR
  
} IC_Status_t;

typedef struct 
{
  
  uint8_t  IC_prescaler; 	/*specifies the Input Capture Prescaler*/
  uint32_t IC_channel; 		/* Specifies the channel of the input Capture*/
  uint32_t IC_selection;	/*Specifies the input*/
  uint32_t IC_polarity;     /*Specifies the active edge of the input signal*/
  uint32_t IC_frequency_hz; /*Specifies the frequency*/
  
} IC_Config_t;



/********************************************************************************************************************
 *    GLOBAL DATA
 ********************************************************************************************************************/

/********************************************************************************************************************
 *    LOCAL FUNCTION PROTOTYPES
 ********************************************************************************************************************/
 
/********************************************************************************************************************
 *    LOCAL FUNCTION
 ********************************************************************************************************************/
 
/********************************************************************************************************************
 *    GLOBAL FUNCTION
 ********************************************************************************************************************/
 /*Initialize the can*/
IC_Status_t ic_init(IC_Config_t *pstinit);
IC_Status_t ic_deinit(uint32_t IC_channel);

/*Control functions */
void ic_start_scheduler(void);
void ic_delay_ms(uint32_t delay_ms);

/*Callack functions*/
void ic_register_os_tick_callback(void (*callback)(void));

#endif /*End of file IC file*/